(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-login-login"],{"0f4c":function(e,t,n){var o=n("24fb");t=o(!1),t.push([e.i,".m-input-view[data-v-10f91ddb]{display:-webkit-inline-box;display:-webkit-inline-flex;display:inline-flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-align:center;-webkit-align-items:center;align-items:center;width:100%;height:100%;padding-left:%?20?%}.m-input-input[data-v-10f91ddb]{-webkit-box-flex:1;-webkit-flex:1;flex:1;width:100%;min-height:100%;line-height:inherit;background-color:transparent}.m-input-icon[data-v-10f91ddb]{width:20px;font-size:20px;line-height:20px;color:#666}",""]),e.exports=t},"15d3":function(e,t,n){"use strict";var o=n("7f69"),i=n.n(o);i.a},"1b72":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o={props:{type:String},methods:{onClick:function(){this.$emit("click")}}};t.default=o},"248c":function(e,t,n){var o=n("7a87");"string"===typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);var i=n("4f06").default;i("4d572c10",o,!0,{sourceMap:!1,shadowMode:!1})},"39c6":function(e,t,n){"use strict";n.r(t);var o=n("4f0e"),i=n.n(o);for(var a in o)"default"!==a&&function(e){n.d(t,e,(function(){return o[e]}))}(a);t["default"]=i.a},"3a36":function(e,t,n){var o=n("24fb");t=o(!1),t.push([e.i,'@font-face{font-family:uniicons;font-weight:400;font-style:normal;src:url(https://img-cdn-qiniu.dcloud.net.cn/fonts/uni.ttf?t=1536565627510) format("truetype")}.m-icon[data-v-057838fe]{font-family:uniicons;font-size:24px;font-weight:400;font-style:normal;line-height:1;display:inline-block;text-decoration:none;-webkit-font-smoothing:antialiased}.m-icon.uni-active[data-v-057838fe]{color:#007aff}.m-icon-contact[data-v-057838fe]:before{content:"\\e100"}.m-icon-person[data-v-057838fe]:before{content:"\\e101"}.m-icon-personadd[data-v-057838fe]:before{content:"\\e102"}.m-icon-contact-filled[data-v-057838fe]:before{content:"\\e130"}.m-icon-person-filled[data-v-057838fe]:before{content:"\\e131"}.m-icon-personadd-filled[data-v-057838fe]:before{content:"\\e132"}.m-icon-phone[data-v-057838fe]:before{content:"\\e200"}.m-icon-email[data-v-057838fe]:before{content:"\\e201"}.m-icon-chatbubble[data-v-057838fe]:before{content:"\\e202"}.m-icon-chatboxes[data-v-057838fe]:before{content:"\\e203"}.m-icon-phone-filled[data-v-057838fe]:before{content:"\\e230"}.m-icon-email-filled[data-v-057838fe]:before{content:"\\e231"}.m-icon-chatbubble-filled[data-v-057838fe]:before{content:"\\e232"}.m-icon-chatboxes-filled[data-v-057838fe]:before{content:"\\e233"}.m-icon-weibo[data-v-057838fe]:before{content:"\\e260"}.m-icon-weixin[data-v-057838fe]:before{content:"\\e261"}.m-icon-pengyouquan[data-v-057838fe]:before{content:"\\e262"}.m-icon-chat[data-v-057838fe]:before{content:"\\e263"}.m-icon-qq[data-v-057838fe]:before{content:"\\e264"}.m-icon-videocam[data-v-057838fe]:before{content:"\\e300"}.m-icon-camera[data-v-057838fe]:before{content:"\\e301"}.m-icon-mic[data-v-057838fe]:before{content:"\\e302"}.m-icon-location[data-v-057838fe]:before{content:"\\e303"}.m-icon-mic-filled[data-v-057838fe]:before,\r\n.m-icon-speech[data-v-057838fe]:before{content:"\\e332"}.m-icon-location-filled[data-v-057838fe]:before{content:"\\e333"}.m-icon-micoff[data-v-057838fe]:before{content:"\\e360"}.m-icon-image[data-v-057838fe]:before{content:"\\e363"}.m-icon-map[data-v-057838fe]:before{content:"\\e364"}.m-icon-compose[data-v-057838fe]:before{content:"\\e400"}.m-icon-trash[data-v-057838fe]:before{content:"\\e401"}.m-icon-upload[data-v-057838fe]:before{content:"\\e402"}.m-icon-download[data-v-057838fe]:before{content:"\\e403"}.m-icon-close[data-v-057838fe]:before{content:"\\e404"}.m-icon-redo[data-v-057838fe]:before{content:"\\e405"}.m-icon-undo[data-v-057838fe]:before{content:"\\e406"}.m-icon-refresh[data-v-057838fe]:before{content:"\\e407"}.m-icon-star[data-v-057838fe]:before{content:"\\e408"}.m-icon-plus[data-v-057838fe]:before{content:"\\e409"}.m-icon-minus[data-v-057838fe]:before{content:"\\e410"}.m-icon-circle[data-v-057838fe]:before,\r\n.m-icon-checkbox[data-v-057838fe]:before{content:"\\e411"}.m-icon-close-filled[data-v-057838fe]:before,\r\n.m-icon-clear[data-v-057838fe]:before{content:"\\e434";position:absolute;right:%?10?%;top:%?10?%}.m-icon-refresh-filled[data-v-057838fe]:before{content:"\\e437"}.m-icon-star-filled[data-v-057838fe]:before{content:"\\e438"}.m-icon-plus-filled[data-v-057838fe]:before{content:"\\e439"}.m-icon-minus-filled[data-v-057838fe]:before{content:"\\e440"}.m-icon-circle-filled[data-v-057838fe]:before{content:"\\e441"}.m-icon-checkbox-filled[data-v-057838fe]:before{content:"\\e442"}.m-icon-closeempty[data-v-057838fe]:before{content:"\\e460"}.m-icon-refreshempty[data-v-057838fe]:before{content:"\\e461"}.m-icon-reload[data-v-057838fe]:before{content:"\\e462"}.m-icon-starhalf[data-v-057838fe]:before{content:"\\e463"}.m-icon-spinner[data-v-057838fe]:before{content:"\\e464"}.m-icon-spinner-cycle[data-v-057838fe]:before{content:"\\e465"}.m-icon-search[data-v-057838fe]:before{content:"\\e466"}.m-icon-plusempty[data-v-057838fe]:before{content:"\\e468"}.m-icon-forward[data-v-057838fe]:before{content:"\\e470"}.m-icon-back[data-v-057838fe]:before,\r\n.m-icon-left-nav[data-v-057838fe]:before{content:"\\e471"}.m-icon-checkmarkempty[data-v-057838fe]:before{content:"\\e472"}.m-icon-home[data-v-057838fe]:before{content:"\\e500"}.m-icon-navigate[data-v-057838fe]:before{content:"\\e501"}.m-icon-gear[data-v-057838fe]:before{content:"\\e502"}.m-icon-paperplane[data-v-057838fe]:before{content:"\\e503"}.m-icon-info[data-v-057838fe]:before{content:"\\e504"}.m-icon-help[data-v-057838fe]:before{content:"\\e505"}.m-icon-locked[data-v-057838fe]:before{content:"\\e506"}.m-icon-more[data-v-057838fe]:before{content:"\\e507"}.m-icon-flag[data-v-057838fe]:before{content:"\\e508"}.m-icon-home-filled[data-v-057838fe]:before{content:"\\e530"}.m-icon-gear-filled[data-v-057838fe]:before{content:"\\e532"}.m-icon-info-filled[data-v-057838fe]:before{content:"\\e534"}.m-icon-help-filled[data-v-057838fe]:before{content:"\\e535"}.m-icon-more-filled[data-v-057838fe]:before{content:"\\e537"}.m-icon-settings[data-v-057838fe]:before{content:"\\e560"}.m-icon-list[data-v-057838fe]:before{content:"\\e562"}.m-icon-bars[data-v-057838fe]:before{content:"\\e563"}.m-icon-loop[data-v-057838fe]:before{content:"\\e565"}.m-icon-paperclip[data-v-057838fe]:before{content:"\\e567"}.m-icon-eye[data-v-057838fe]:before{content:"\\e568";position:absolute;right:%?10?%;top:%?10?%}.m-icon-arrowup[data-v-057838fe]:before{content:"\\e580"}.m-icon-arrowdown[data-v-057838fe]:before{content:"\\e581"}.m-icon-arrowleft[data-v-057838fe]:before{content:"\\e582"}.m-icon-arrowright[data-v-057838fe]:before{content:"\\e583"}.m-icon-arrowthinup[data-v-057838fe]:before{content:"\\e584"}.m-icon-arrowthindown[data-v-057838fe]:before{content:"\\e585"}.m-icon-arrowthinleft[data-v-057838fe]:before{content:"\\e586"}.m-icon-arrowthinright[data-v-057838fe]:before{content:"\\e587"}.m-icon-pulldown[data-v-057838fe]:before{content:"\\e588"}.m-icon-scan[data-v-057838fe]:before{content:"\\e612"}',""]),e.exports=t},"3f65":function(e,t,n){"use strict";var o,i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"m-icon",class:["m-icon-"+e.type],on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.onClick()}}})},a=[];n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return o}))},4758:function(e,t,n){"use strict";var o={mIcon:n("dfee").default},i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"m-input-view"},[n("v-uni-input",{staticClass:"m-input-input",attrs:{focus:e.focus,type:e.inputType,value:e.value,placeholder:e.placeholder,password:"password"===e.type&&!e.showPassword,autocomplete:"off"},on:{input:function(t){arguments[0]=t=e.$handleEvent(t),e.onInput.apply(void 0,arguments)},focus:function(t){arguments[0]=t=e.$handleEvent(t),e.onFocus.apply(void 0,arguments)},blur:function(t){arguments[0]=t=e.$handleEvent(t),e.onBlur.apply(void 0,arguments)}}}),e.clearable&&!e.displayable&&e.value.length?n("v-uni-view",{staticClass:"m-input-icon"},[n("m-icon",{attrs:{color:"#666666",type:"clear"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.clear.apply(void 0,arguments)}}})],1):e._e(),e.displayable?n("v-uni-view",{staticClass:"m-input-icon"},[n("m-icon",{style:{color:e.showPassword?"#666666":"#cccccc"},attrs:{type:"eye"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.display.apply(void 0,arguments)}}})],1):e._e()],1)},a=[];n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return o}))},"4f0e":function(e,t,n){"use strict";var o=n("ee27");n("c975"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n("f3f3")),a=(o(n("8fbd")),n("2f62")),c=o(n("5c4d")),r={components:{mInput:c.default},data:function(){return{sms:"",timers:null,user_tel:"",displayable:!1,userName:"",smsTips:"发送验证码",providerList:[],hasProvider:!0,account:"",password:"",positionTop:0,isDevtools:!1}},computed:(0,a.mapState)(["forcedLogin"]),methods:(0,i.default)({},(0,a.mapMutations)(["login"]),{sendCode:function(){var e=this;if(console.log(this.timers),!this.timers){var t=/^(0|86|17951)?(13[0-9]|15[012356789]|17[0-9]|18[0-9]|14[57])[0-9]{8}$/,n=this;if(""!=n.user_tel)if(t.test(n.user_tel)){n.setTimer();var o={phone:n.user_tel};uni.request({url:"//api.jronline.com/user-api/api/Validation/sms",data:JSON.stringify(o),method:"POST",success:function(t){console.log(t.data),e.text="request success"}})}else uni.showToast({icon:"none",title:"手机号格式错误"});else uni.showToast({icon:"none",title:"手机号不能为空"})}},setTimer:function(){var e=60,t=this;this.timers=setInterval((function(){if(e--,e<=0)return e=0,t.smsTips="发送验证码",clearInterval(t.timers),t.timer=null,!1;t.smsTips="".concat(e,"秒后重新获取")}),1e3)},initProvider:function(){var e=this,t=["weixin","qq","sinaweibo"];uni.getProvider({service:"oauth",success:function(n){if(n.provider&&n.provider.length){for(var o=0;o<n.provider.length;o++)~t.indexOf(n.provider[o])&&e.providerList.push({value:n.provider[o],image:"../../static/img/"+n.provider[o]+".png"});e.hasProvider=!0}},fail:function(e){console.error("获取服务供应商失败："+JSON.stringify(e))}})},initPosition:function(){this.positionTop=uni.getSystemInfoSync().windowHeight-100},bindLogin:function(){var e=this,t=/^(0|86|17951)?(13[0-9]|15[012356789]|17[0-9]|18[0-9]|14[57])[0-9]{8}$/;""!=this.user_tel?t.test(e.user_tel)?this.userName.length<5?uni.showToast({icon:"none",title:"用户名最短为5个字符"}):this.password.length<6?uni.showToast({icon:"none",title:"密码最短为6个字符"}):""!=this.sms?this.toMain(this.account):uni.showToast({icon:"none",title:"请输入验证码"}):uni.showToast({icon:"none",title:"手机号格式错误"}):uni.showToast({icon:"none",title:"手机号不能为空"})},oauth:function(e){var t=this;uni.login({provider:e,success:function(n){uni.getUserInfo({provider:e,success:function(e){t.toMain(e.userInfo.nickName)},fail:function(){uni.showToast({icon:"none",title:"登陆失败"})}})},fail:function(e){console.error("授权登录失败："+JSON.stringify(e))}})},getUserInfo:function(e){var t=e.detail;t.userInfo?this.toMain(t.userInfo.nickName):uni.showToast({icon:"none",title:"登陆失败"})},toMain:function(e){this.login(e),this.forcedLogin?uni.reLaunch({url:"../main/main"}):uni.navigateBack()}}),onReady:function(){this.initPosition(),this.initProvider()}};t.default=r},"57d6":function(e,t,n){"use strict";var o=n("ee27");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n("dfee")),a={components:{mIcon:i.default},props:{type:String,value:String,placeholder:String,clearable:{type:[Boolean,String],default:!1},displayable:{type:[Boolean,String],default:!1},focus:{type:[Boolean,String],default:!1}},model:{prop:"value",event:"input"},data:function(){return{showPassword:!1,isFocus:!1}},computed:{inputType:function(){var e=this.type;return"password"===e?"text":e}},methods:{clear:function(){this.$emit("input","")},display:function(){this.showPassword=!this.showPassword},onFocus:function(){this.isFocus=!0},onBlur:function(){var e=this;this.$nextTick((function(){e.isFocus=!1}))},onInput:function(e){this.$emit("input",e.detail.value)}}};t.default=a},"5c4d":function(e,t,n){"use strict";n.r(t);var o=n("4758"),i=n("b3ba");for(var a in i)"default"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);n("15d3");var c,r=n("f0c5"),f=Object(r["a"])(i["default"],o["b"],o["c"],!1,null,"10f91ddb",null,!1,o["a"],c);t["default"]=f.exports},6571:function(e,t,n){"use strict";n.r(t);var o=n("889a"),i=n("39c6");for(var a in i)"default"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);n("9810");var c,r=n("f0c5"),f=Object(r["a"])(i["default"],o["b"],o["c"],!1,null,"8da03552",null,!1,o["a"],c);t["default"]=f.exports},"7a87":function(e,t,n){var o=n("24fb");t=o(!1),t.push([e.i,".block-input[data-v-8da03552]{width:%?720?%}.input-row[data-v-8da03552]{-webkit-box-sizing:border-box;box-sizing:border-box;padding:0;margin:0;height:%?80?%;margin-bottom:%?20?%;-webkit-border-radius:%?20?%;border-radius:%?20?%;border:1px solid #9e99b9}.block-left[data-v-8da03552]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.smsText[data-v-8da03552]{margin-right:%?20?%;color:grey;width:161px;text-align:right}.action-row[data-v-8da03552]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.action-row uni-navigator[data-v-8da03552]{color:#007aff;padding:0 %?15?%}.oauth-row[data-v-8da03552]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;position:absolute;top:0;left:0;width:100%}.oauth-image[data-v-8da03552]{position:relative;width:50px;height:50px;border:1px solid #ddd;-webkit-border-radius:50px;border-radius:50px;margin:0 20px;background-color:#fff}.oauth-image uni-image[data-v-8da03552]{width:30px;height:30px;margin:10px}.oauth-image uni-button[data-v-8da03552]{position:absolute;left:0;top:0;width:100%;height:100%;opacity:0}",""]),e.exports=t},"7f69":function(e,t,n){var o=n("0f4c");"string"===typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);var i=n("4f06").default;i("40be2969",o,!0,{sourceMap:!1,shadowMode:!1})},"889a":function(e,t,n){"use strict";var o,i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"content uni-padding-wrap uni-common-mt"},[n("v-uni-view",{staticClass:"input-group"},[n("v-uni-view",{staticClass:"input-row"},[n("m-input",{staticClass:"m-input",attrs:{type:"number",placeholder:"请输入手机号",displayable:e.displayable},model:{value:e.user_tel,callback:function(t){e.user_tel=t},expression:"user_tel"}})],1),n("v-uni-view",{staticClass:"input-row"},[n("m-input",{attrs:{type:"text",placeholder:"工程编号及用户名"},model:{value:e.userName,callback:function(t){e.userName=t},expression:"userName"}})],1),n("v-uni-view",{staticClass:"input-row"},[n("m-input",{attrs:{type:"password",placeholder:"工程编号密码"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),n("v-uni-view",{staticClass:"input-row block-left"},[n("m-input",{attrs:{type:"number",placeholder:"请输入验证码"},model:{value:e.sms,callback:function(t){e.sms=t},expression:"sms"}}),[n("v-uni-text",{staticClass:"smsText",style:{color:e.timers?"#B0B0B0":""},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.sendCode()}}},[e._v(e._s(e.smsTips))])]],2)],1),n("v-uni-view",{staticClass:"btn-row"},[n("v-uni-button",{staticClass:"primary",attrs:{type:"primary"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.bindLogin.apply(void 0,arguments)}}},[e._v("登录")])],1),n("v-uni-view",{staticClass:"action-row"},[n("v-uni-navigator",{attrs:{url:"../reg/reg"}},[e._v("注册账号")]),n("v-uni-text",[e._v("|")]),n("v-uni-navigator",{attrs:{url:"../pwd/pwd"}},[e._v("忘记密码")])],1),e.hasProvider?n("v-uni-view",{staticClass:"oauth-row",style:{top:e.positionTop+"px"}},e._l(e.providerList,(function(t){return n("v-uni-view",{key:t.value,staticClass:"oauth-image"},[n("v-uni-image",{attrs:{src:t.image},on:{click:function(n){arguments[0]=n=e.$handleEvent(n),e.oauth(t.value)}}})],1)})),1):e._e()],1)},a=[];n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return o}))},"8fbd":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o="USERS_KEY",i=function(){var e="";return e=uni.getStorageSync(o),e||(e="[]"),JSON.parse(e)},a=function(e){var t=i();t.push({account:e.account,password:e.password}),uni.setStorageSync(o,JSON.stringify(t))},c={getUsers:i,addUser:a};t.default=c},9810:function(e,t,n){"use strict";var o=n("248c"),i=n.n(o);i.a},"9e6a":function(e,t,n){var o=n("3a36");"string"===typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);var i=n("4f06").default;i("063510ce",o,!0,{sourceMap:!1,shadowMode:!1})},a261:function(e,t,n){"use strict";var o=n("9e6a"),i=n.n(o);i.a},b3ba:function(e,t,n){"use strict";n.r(t);var o=n("57d6"),i=n.n(o);for(var a in o)"default"!==a&&function(e){n.d(t,e,(function(){return o[e]}))}(a);t["default"]=i.a},be9f:function(e,t,n){"use strict";n.r(t);var o=n("1b72"),i=n.n(o);for(var a in o)"default"!==a&&function(e){n.d(t,e,(function(){return o[e]}))}(a);t["default"]=i.a},dfee:function(e,t,n){"use strict";n.r(t);var o=n("3f65"),i=n("be9f");for(var a in i)"default"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);n("a261");var c,r=n("f0c5"),f=Object(r["a"])(i["default"],o["b"],o["c"],!1,null,"057838fe",null,!1,o["a"],c);t["default"]=f.exports}}]);